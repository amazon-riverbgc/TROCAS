
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>TROCAS Data and Data Processing &#8212; TROCAS</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet">
  <link href="../_static/css/index.ff1ffe594081f20da1ef19478df9384b.css" rel="stylesheet">

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.be7d3bbb2ef33a8344ce.js">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.d59cb220de22ca1c485ebbdc042f0030.js"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"
const thebe_selector = ".thebe,.cell"
const thebe_selector_input = "pre"
const thebe_selector_output = ".output, .cell_output"
</script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="canonical" href="https://amazon-riverbgc.github.io/TROCAS/docs/data.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="TROCAS Data Browser" href="databrowser.html" />
    <link rel="prev" title="TROCAS Information System Overview" href="data_overview.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="None">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
        <!-- `logo` is deprecated in Sphinx 4.0, so remove this when we stop supporting 3 -->
        
      
      
      <img src="../_static/mouth_databrowser.jpg" class="logo" alt="logo">
      
      
      <h1 class="site-logo" id="site-title">TROCAS</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Project
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="project.html">
   Project Description
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="team.html">
   Team
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="publications.html">
   Publications
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="historical.html">
   Previous Campaigns
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="team_access.html">
   Team Access
  </a>
 </li>
</ul>
<p aria-level="2" class="caption" role="heading">
 <span class="caption-text">
  Data
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="data_overview.html">
   Overview
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Data &amp; Processing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="databrowser.html">
   Data Browser
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/docs/data.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
                onclick="printPdf(this)" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/amazon-riverbgc/TROCAS"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/amazon-riverbgc/TROCAS/issues/new?title=Issue%20on%20page%20%2Fdocs/data.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        <a class="edit-button" href="https://github.com/amazon-riverbgc/TROCAS/edit/main/site/docs/data.md"><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Edit this page"><i class="fas fa-pencil-alt"></i>suggest edit</button></a>
    </div>
</div>

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show noprint">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#underway-data">
   Underway Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-processing">
     Data Processing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-browser">
     Data Browser
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-storage-and-access">
     Data storage and access
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#our-open-resources-on-github">
   Our open resources on GitHub
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#text-to-draw-from">
   TEXT TO DRAW FROM
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#from-sitr-doc-feb-22">
   From SITr doc Feb ‘22.
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
            <!-- Table of contents that is only displayed when printing the page -->
            <div id="jb-print-docs-body" class="onlyprint">
                <h1>TROCAS Data and Data Processing</h1>
                <!-- Table of contents -->
                <div id="print-main-content">
                    <div id="jb-print-toc">
                        
                        <div>
                            <h2> Contents </h2>
                        </div>
                        <nav aria-label="Page">
                            <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#underway-data">
   Underway Data
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-processing">
     Data Processing
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-browser">
     Data Browser
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-storage-and-access">
     Data storage and access
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#our-open-resources-on-github">
   Our open resources on GitHub
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#text-to-draw-from">
   TEXT TO DRAW FROM
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#from-sitr-doc-feb-22">
   From SITr doc Feb ‘22.
  </a>
 </li>
</ul>

                        </nav>
                    </div>
                </div>
            </div>
            
              <div>
                
  <div class="tex2jax_ignore mathjax_ignore section" id="trocas-data-and-data-processing">
<h1>TROCAS Data and Data Processing<a class="headerlink" href="#trocas-data-and-data-processing" title="Permalink to this headline">¶</a></h1>
<!-- Regarding data, I think this section should not aim to describe all the data and analyses carried out in TROCAS. That should be done in a different section under "Project".
Instead, this section should address issues of data file/object storage, management, access, and computation 

- (overview -- no heading; includes scope of data in this page -- underway)
- Processing (notebooks, what they do)
- Data browser (VERY brief)
- Data storage and access
-->
<p>Describe what this section will be about. Data and computation</p>
<p>All data vs Underway (focus here)</p>
<div class="section" id="underway-data">
<h2>Underway Data<a class="headerlink" href="#underway-data" title="Permalink to this headline">¶</a></h2>
<p>Initial efforts have focused on continuous underway data generated by sensors, specifically GPS, EXO multi-parameter water quality sonde, Licor CO2 analyzer and Picarro CO2 and CH4 isotope and gas concentration analyzer.</p>
<p>Data from the 8 campaigns have been processed, from April 2014 through November 2019.</p>
<div class="section" id="data-processing">
<h3>Data Processing<a class="headerlink" href="#data-processing" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Data tools &amp; products (software, including Jupyter Notebooks)</p>
<ul>
<li><p>Scripts to process underway sensor raw files</p></li>
<li><p>Scripts to create merged 1-minute binned files</p></li>
<li><p>Mention the TROCAS data browser</p></li>
</ul>
</li>
</ul>
<p>Compilation and processing of raw sensor data files</p>
<p>Add subheadings in this section, if I’m going to keep all this text</p>
<p>The underway files in the data folder Google Drive cloud storage Underway and were processed into workable datastreams.</p>
<p>Jupyter notebooks were developed in Python for processing the raw data from each sensor into standardized tidy data aggregating all transects and stored in Parquet files, an open, scalable, cloud-optimized format. The Jupyter notebooks capture a reproducible, transparent workflow that can be updated and rerun as needed to reprocess all the raw data as issues are addressed, enhancements are developed, and missing files are integrated.</p>
<p>Raw sensor output files (including GPS) were compiled and organized. These data were averaged into 1-minute bins and joined across sensors on the temporal bins to create a merged Parquet file. The binned data from each sensor are then joined on matching time-interval bins. Sensor data that don’t have a corresponding GPS 1-minute bin are not presented on this application; such data will require further investigation to attach geospatial coordinates.  These per-sensor tidy data frames are available to the team for analysis and further quality control, and subsequently for integrated analysis and exploration.</p>
<p>Processes for clearly separating underway data along spatial trajectories from fixed-site diel time series are also being developed. Source sensor data files in parent folders indicating their sampling “type” as <em>underway</em> (moving) or <em>diel</em> (stationary) are flagged as such in data processing workflow. All others are labelled with a default mixed (unknown or a combination of the two) flag. The “stations - diel files” points  represent aggregations of diel-flagged files, identified for further investigation and identification.</p>
<p>Currently nearly 1,200 individual sensor output files have been processed, encompassing nearly 100 million individual observations with accompanying automatically generated metadata and data inventories. In order to enable the team to readily explore these large datasets, the merged, 1-min-binned analysis-ready data are pushed to the cloud-based Heroku platform, in the Integrated folder. The actual Data Browser is a Python data exploration dashboard has been developed using the open-source <a class="reference external" href="https://holoviz.org/">HoloViz</a>/Panel Python packages. This web-based dashboard is also pushed to the Heroku cloud platform for team access.</p>
</div>
<div class="section" id="data-browser">
<h3>Data Browser<a class="headerlink" href="#data-browser" title="Permalink to this headline">¶</a></h3>
<p>The TROCAS Data Browser provides convenient overviews and exploration of TROCAS data. Currently it aggregates underway sensor data from the TROCAS project across all TROCAS transects conducted so far and collected from a boat in continuous “underway” mode while transiting or remaining stationary at a location. See the <a class="reference internal" href="databrowser.html"><span class="doc std std-doc">TROCAS Data Browser</span></a> for access and additional technical information.</p>
</div>
<div class="section" id="data-storage-and-access">
<h3>Data storage and access<a class="headerlink" href="#data-storage-and-access" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p>Data produced</p>
<ul>
<li><p>on S3 (parquet). Include the AWS bucket name, links to current parquet files (but not intended to be exhaustive), and info about requesting access (first confirm it’s not currently set to anonymous, public access)</p></li>
<li><p>on Google Drive</p></li>
</ul>
</li>
<li><p>Mention Team Access page for access to private-access data; link to it</p></li>
</ul>
</div>
</div>
<div class="section" id="our-open-resources-on-github">
<h2>Our open resources on GitHub<a class="headerlink" href="#our-open-resources-on-github" title="Permalink to this headline">¶</a></h2>
<p>We use the <a class="reference external" href="https://github.com/">GitHub</a> online platform for collaborative software and document development in order to enable open team collaborations on data procesing software and workflows and share much of these resources broadly. Our GitHub resources are found at <a class="reference external" href="https://github.com/amazon-riverbgc/">https://github.com/amazon-riverbgc/</a>. Currently we host the following as public <a class="reference external" href="https://docs.github.com/en/repositories/creating-and-managing-repositories/about-repositories">repositories</a>:</p>
<ul class="simple">
<li><p>TROCAS web site content. <a class="reference external" href="https://github.com/amazon-riverbgc/TROCAS/">https://github.com/amazon-riverbgc/TROCAS/</a></p></li>
<li><p>TROCAS Data Browser code. <a class="reference external" href="https://github.com/amazon-riverbgc/trocas-herokuapp1">https://github.com/amazon-riverbgc/trocas-herokuapp1</a></p></li>
</ul>
<p>Other resources will be added and released in the future, starting with the Python code used for processing raw underway data files into the integrated, intermediate data products used in the Data Browser.</p>
</div>
<hr class="docutils" />
<div class="section" id="text-to-draw-from">
<h2>TEXT TO DRAW FROM<a class="headerlink" href="#text-to-draw-from" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="from-sitr-doc-feb-22">
<h2>From SITr doc Feb ‘22.<a class="headerlink" href="#from-sitr-doc-feb-22" title="Permalink to this headline">¶</a></h2>
<p>Underway data</p>
<p>The continuous, underway measurements of CO2, CH4 together with temperature, dissolved oxygen and O2 and utilizing the Licor, Exosonde, Picarro and GPS sensors will allow high resolution insight into how the dynamics of the biogeochemistry of a parcel of water evolves as that parcel advects downstream.  Composition varies according to distance traveled, lateral exchanges, biological processes, turbulence, and tides.</p>
<p>To organize and process these complex data sets capable of addressing these issues, a series of data tools were developed. While these tools are currently focused on the underway data, the intent is that they are adapted to the other data streams.</p>
<p>A major data challenge is to be able to ‘see” all of the complicated data we have, including of getting coordinates, values etc synchronized and plotted.
To that end, Emilio has designed and implemented a sweet data browser, first for the underway data. The structure of the browser is to maximize flexibility. <a class="reference external" href="https://trocasdata-1.herokuapp.com/trocas_pannelapp_1">https://trocasdata-1.herokuapp.com/trocas_pannelapp_1</a></p>
<p>About Data Browser</p>
<p>The functionality of this dashboard is being regularly refined and expanded. In addition, in the near future both processed and merged Parquet files will be deployed to object storage on the Amazon AWS S3 cloud for more flexible access via cloud-based computation in Python and R Jupyter notebooks leveraging the cloud-based Pangeo (<a class="reference external" href="https://pangeo.io">https://pangeo.io</a>) geoscience Big Data platform. Other data collected by the team will be addressed in upcoming phases, including ADCP sensor data, biogeochemical analyses from samples, incubation experiments and ‘omics data, lowering barriers for integrated analysis of environmental and ‘omics data. This capability will build on the team’s experience with cyberinfrastructure interfacing environmental and ‘omics data, particularly via persistent and globally unique International GeoSample Numbers (IGSN) and Environmental Package metadata that is part of the Genomic Standards Consortium Minimum Information about any (x) Sequence (MixS) standard. Such integration and production of analysis-ready data will enable future machine-learning applications.</p>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./docs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
            
                <!-- Previous / next buttons -->
<div class='prev-next-area'> 
    <a class='left-prev' id="prev-link" href="data_overview.html" title="previous page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">previous</p>
            <p class="prev-next-title">TROCAS Information System Overview</p>
        </div>
    </a>
    <a class='right-next' id="next-link" href="databrowser.html" title="next page">
    <div class="prev-next-info">
        <p class="prev-next-subtitle">next</p>
        <p class="prev-next-title">TROCAS Data Browser</p>
    </div>
    <i class="fas fa-angle-right"></i>
    </a>
</div>
            
        </div>
    </div>
    <footer class="footer">
  <p>
    
      By Emilio Mayorga<br/>
    
        &copy; Copyright 2022.<br/>
  </p>
</footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.be7d3bbb2ef33a8344ce.js"></script>

  </body>
</html>